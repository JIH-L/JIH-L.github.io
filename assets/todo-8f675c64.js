import{j as t,r as d}from"./index-bb8df7e8.js";function x({todoList:o,updateTodo:n}){return t.jsx("ul",{children:o.map(e=>t.jsx("li",{className:e.status?"line-through":"","data-id":e.id,children:t.jsxs("label",{children:[t.jsx("input",{onChange:n,type:"checkbox",className:"mr-2","data-id":e.id,checked:e.status}),e.name]})},e.id))})}function p(){const o=localStorage.getItem("todoList"),n=o?JSON.parse(o):[],[e,a]=d.useState(n),l=()=>{console.log("add todo");const s=document.querySelector("#todoInput");s&&(a([...e,{name:s.value,id:Date.now(),status:!1}]),s.value="",window.localStorage.setItem("todoList",JSON.stringify(e)))},r=()=>{a([])},c=s=>{const u=s.target.dataset.id,m=e.map(i=>(i.id===Number(u)&&(i.status=!i.status),i));a(m),window.localStorage.setItem("todoList",JSON.stringify(e))};return d.useEffect(()=>{window.localStorage.setItem("todoList",JSON.stringify(e))},[e]),t.jsx(t.Fragment,{children:t.jsx("div",{className:"h-screen bg-slate-400 p-5",children:t.jsxs("div",{className:"m-auto max-w-[768px] bg-white p-5",children:[t.jsx("h1",{className:"mb-4 text-center text-2xl",children:"React ToDoList"}),t.jsxs("div",{className:"flex",children:[t.jsx("input",{id:"todoInput",type:"text",className:"w-full rounded-l-lg border-y-2 border-l-2 border-indigo-300 pl-4 focus:outline-none focus:outline-offset-0 focus:outline-indigo-500",placeholder:"請輸入你的代辦事項"}),t.jsx("button",{onClick:l,className:"h-[50px] w-[50px] rounded-r-lg border-0 bg-sky-500 text-white transition duration-700 hover:bg-sky-600",children:"+"})]}),t.jsx(x,{todoList:e,updateTodo:c}),t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("p",{children:["目前有 ",t.jsx("span",{className:"font-medium",children:e.length})," ","個事項待完成"]}),t.jsx("button",{onClick:r,type:"button",className:"rounded-md bg-red-300 p-2 transition duration-700 hover:bg-red-400",children:"Clear All Task"})]})]})})})}export{p as default};
